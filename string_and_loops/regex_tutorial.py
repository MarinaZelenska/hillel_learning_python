# ------------------------------------------------------------
# ЛЕКЦІЯ: Регулярні вирази (Regular Expressions) в Python
# ------------------------------------------------------------

import re

# ------------------------------------------------------------
# 1. ЩО ТАКЕ РЕГУЛЯРНІ ВИРАЗИ?
# ------------------------------------------------------------
# RegEx — це міні-мова для пошуку шаблонів у тексті.
#
# Для роботи обов’язково імпортуємо модуль:
# import re
#
# Основні функції модуля:
# re.search()  – перше входження шаблону
# re.findall() – всі входження у вигляді списку
# re.match()   – перевірка тільки на початку рядка
# re.fullmatch() – вся строка повинна відповідати шаблону
# re.sub()     – заміна частин рядка
# re.split()   – розбиття рядка за шаблоном
# ------------------------------------------------------------


# ------------------------------------------------------------
# 2. БАЗОВІ МЕТАСИМВОЛИ
# ------------------------------------------------------------
# .     – будь-який символ, крім переносу рядка
# ^     – початок рядка
# $     – кінець рядка
# *     – 0 або більше повторів
# +     – 1 або більше повторів
# ?     – 0 або 1 повтор
# {n}   – рівно n повторів
# {n,m} – від n до m повторів
#
# Класи символів:
# \d – цифра
# \D – не цифра
# \w – буква / цифра / _
# \W – все, що не \w
# \s – пробіл/таб/перенос
# \S – не пробіл
#
# У Python завжди пишемо r"..."
# щоб бекслеші не сприймалися як спецсимволи.
# ------------------------------------------------------------


# ------------------------------------------------------------
# 3. ПРИКЛАДИ
# ------------------------------------------------------------

# 1. Знайти всі числа у тексті
text = "I have 2 cats, 15 fish and 100 dreams"
numbers = re.findall(r"\d+", text)
print(numbers)  # ['2', '15', '100']


print("\n=== ПРИКЛАД 2. Перевірка email ===")
email = "test@gmail.com"
if re.fullmatch(r"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}", email):
    print("Email валідний")
else:
    print("Email НЕ валідний")


print("\n=== ПРИКЛАД 3. Заміна цифр на * ===")
masked = re.sub(r"\d", "*", "Card: 1234 5678 9999")
print(masked)


print("\n=== ПРИКЛАД 4. Розбиття за пробілами або комами ===")
parts = re.split(r"[, ]+", "apple, banana,   kiwi,melon")
print(parts)


print("\n=== ПРИКЛАД 5. Витягнути слова з великої букви ===")
sentence = "Anna and Bob visited New York"
names = re.findall(r"\b[A-Z][a-z]+", sentence)
print(names)  # ['Anna', 'Bob', 'New', 'York']



# ------------------------------------------------------------
# 5. ПРАКТИЧНІ ЗАДАЧІ ДЛЯ ТРЕНУВАННЯ
# ------------------------------------------------------------
# 1) Знайти всі українські номери телефонів у форматі +380*********
# 2) Витягнути всі слова довжиною від 5 літер
# 3) Видалити всі зайві пробіли, замінити їх на один
# 4) Перевірити, чи містить рядок тільки букви (латиниця)
# 5) Замаскувати email так, щоб залишилася тільки перша літера та домен:
#    test@mail.com → t***@mail.com
# 6) Знайти всі IP-адреси у тексті
# 7) Витягнути всі дати формату DD.MM.YYYY
# 8) Знайти слова, які починаються на голосну
# ------------------------------------------------------------


# ------------------------------------------------------------
# 6. ДОДАТКОВІ РОЗ’ЯСНЕННЯ ДЛЯ ПОЧАТКІВЦІВ
# ------------------------------------------------------------
# r"..." — це raw-строка, Python не інтерпретує \n, \t, \d
# \b — межа слова
# () — групування (видає підгрупи)
# |  — логічне "АБО"


